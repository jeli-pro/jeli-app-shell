uuid: c32c914e-f9c3-4d2c-ae14-5b6d7647895e
projectId: jeli-app-shell
createdAt: '2025-10-18T08:21:42.803Z'
gitCommitMsg: >-
  feat(DataDemo): refactor DataListView to Notion-style list view

  - Redesigned `DataListView` from a card-based layout to a columnar, grid-based
  layout similar to Notion lists for improved data density and scannability. -
  Added a sticky `ListViewHeader` to display column titles. - Updated styling to
  use blurred backgrounds and hover effects, ensuring visual consistency with
  the `DataKanbanView`. - Modified the `AssigneeInfo` component with a
  `showEmail` prop to allow for a more compact display in the new list view.
promptSummary: >-
  I want to refactor the data demo list view to be a Notion-style list instead
  of cards, with styling that is cohesive with the Kanban view.
reasoning:
  - >-
    This is an excellent request. A Notion-style list view will significantly
    improve the data density and scannability of the list view. I'll refactor
    the `DataListView` component to use a columnar layout with a sticky header.
    To support this denser view, I'll also make a small adjustment to the
    `AssigneeInfo` component to optionally hide the email address.
  - '### 1. Update `AssigneeInfo` Component'
  - >-
    First, I'll add a `showEmail` prop to `AssigneeInfo` in `DataItemParts.tsx`.
    This will allow us to show just the avatar and name in the dense list view,
    while still being able to show the full details in other places.
  - '### 2. Refactor `DataListView`'
  - >-
    Next, I'll completely overhaul `DataListView.tsx`. I will replace the
    card-based layout with a grid-based, columnar layout reminiscent of Notion.
    This includes a new sticky header component for column titles and updated
    styling to be cohesive with the `DataKanbanView` for a consistent and
    polished look.
operations:
  - type: write
    path: src/pages/DataDemo/components/shared/DataItemParts.tsx
    content: >+
      --- src/pages/DataDemo/components/shared/DataItemParts.tsx

      +++ src/pages/DataDemo/components/shared/DataItemParts.tsx

      @@ -21,10 +21,12 @@
       export function AssigneeInfo({
         assignee,
         avatarClassName = "w-8 h-8",
      +  showEmail = true,
       }: {
         assignee: DataItem['assignee']
         avatarClassName?: string
      +  showEmail?: boolean
       }) {
         return (
           <div className="flex items-center gap-2 group">
      @@ -34,7 +36,7 @@
             </Avatar>
             <div className="min-w-0">
               <p className="font-medium text-sm truncate">{assignee.name}</p>
      -        <p className="text-xs text-muted-foreground
      truncate">{assignee.email}</p>

      +        {showEmail && <p className="text-xs text-muted-foreground
      truncate">{assignee.email}</p>}
             </div>
           </div>
         )

    patchStrategy: standard-diff
  - type: write
    path: src/pages/DataDemo/components/DataListView.tsx
    content: >-
      import { useRef } from 'react'

      import { cn } from '@/lib/utils'

      import type { DataItem } from '../types'

      import { useStaggeredAnimation } from
      '@/hooks/useStaggeredAnimation.motion.hook'

      import { EmptyState } from './EmptyState'

      import { useAppViewManager } from '@/hooks/useAppViewManager.hook'

      import { 
        useSelectedItem,
      } from '../store/dataDemo.store'

      import {
        AssigneeInfo,
        ItemProgressBar,
        ItemStatusBadge,
        ItemPriorityBadge,
        ItemDateInfo,
      } from './shared/DataItemParts'

      import { AddDataItemCta } from './shared/AddDataItemCta'


      function ListViewHeader() {
        const headerCells = ["Title", "Status", "Priority", "Assignee", "Last Updated", "Completion"];
        return (
          <div className="sticky top-0 z-10 grid grid-cols-[minmax(0,_3fr)_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1.5fr)_minmax(0,_1.2fr)_minmax(0,_1.5fr)] gap-4 px-6 py-3 bg-muted/50 dark:bg-neutral-900/50 backdrop-blur-sm border-b font-medium text-sm text-muted-foreground uppercase tracking-wider">
            {headerCells.map(cell => <span key={cell} className="truncate">{cell}</span>)}
          </div>
        )
      }


      export function DataListView({ data }: { data: DataItem[] }) {
        const { onItemSelect, itemId } = useAppViewManager();
        const selectedItem = useSelectedItem(itemId);

        const listRef = useRef<HTMLDivElement>(null)
        useStaggeredAnimation(listRef, [data], { mode: 'incremental', scale: 1, y: 30, stagger: 0.08, duration: 0.5 });

        const items = Array.isArray(data) ? data : [];
        if (items.length === 0) {
          return <EmptyState />
        }

        return (
          <div className="border rounded-2xl overflow-hidden bg-card/30 dark:bg-neutral-900/30 backdrop-blur-lg">
            <ListViewHeader />
            <div ref={listRef} className="divide-y divide-border/50">
              {items.map((item: DataItem) => {
                const isSelected = selectedItem?.id === item.id
                
                return (
                  <div
                    key={item.id}
                    onClick={() => onItemSelect(item)}
                    className={cn(
                      "group grid grid-cols-[minmax(0,_3fr)_minmax(0,_1fr)_minmax(0,_1fr)_minmax(0,_1.5fr)_minmax(0,_1.2fr)_minmax(0,_1.5fr)] items-center gap-4 px-6 py-3 cursor-pointer transition-colors duration-200",
                      "hover:bg-card/50 dark:hover:bg-neutral-800/50",
                      isSelected && "bg-primary/10 dark:bg-primary/10"
                    )}
                  >
                    {/* Title */}
                    <div className="flex items-center gap-3 min-w-0">
                      <div className="w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center text-lg flex-shrink-0">
                        {item.thumbnail}
                      </div>
                      <p className="font-medium truncate group-hover:text-primary transition-colors">{item.title}</p>
                    </div>

                    {/* Status */}
                    <div><ItemStatusBadge status={item.status} /></div>

                    {/* Priority */}
                    <div><ItemPriorityBadge priority={item.priority} /></div>

                    {/* Assignee */}
                    <div className="min-w-0"><AssigneeInfo assignee={item.assignee} showEmail={false} avatarClassName="w-7 h-7" /></div>

                    {/* Date */}
                    <div><ItemDateInfo date={item.updatedAt} /></div>

                    {/* Progress Bar */}
                    <div><ItemProgressBar completion={item.metrics.completion} showPercentage /></div>
                  </div>
                )
              })}
              <AddDataItemCta viewMode='list' />
            </div>
          </div>
        )
      }
    patchStrategy: replace
snapshot:
  src/pages/DataDemo/components/shared/DataItemParts.tsx: >-
    import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'

    import { Badge } from '@/components/ui/badge'

    import { cn, getStatusColor, getPriorityColor } from '@/lib/utils'

    import { Clock, Eye, Heart, Share } from 'lucide-react'

    import type { DataItem } from '../../types'


    export function ItemStatusBadge({ status }: { status: DataItem['status'] })
    {
      return (
        <Badge variant="outline" className={cn("font-medium", getStatusColor(status))}>
          {status.charAt(0).toUpperCase() + status.slice(1)}
        </Badge>
      )
    }


    export function ItemPriorityBadge({ priority }: { priority:
    DataItem['priority'] }) {
      return (
        <Badge variant="outline" className={cn("font-medium", getPriorityColor(priority))}>
          {priority.charAt(0).toUpperCase() + priority.slice(1)}
        </Badge>
      )
    }


    export function AssigneeInfo({
      assignee,
      avatarClassName = "w-8 h-8",
    }: {
      assignee: DataItem['assignee']
      avatarClassName?: string
    }) {
      return (
        <div className="flex items-center gap-2 group">
          <Avatar className={cn("border-2 border-transparent group-hover:border-primary/50 transition-colors", avatarClassName)}>
            <AvatarImage src={assignee.avatar} alt={assignee.name} />
            <AvatarFallback>{assignee.name.charAt(0)}</AvatarFallback>
          </Avatar>
          <div className="min-w-0">
            <p className="font-medium text-sm truncate">{assignee.name}</p>
            <p className="text-xs text-muted-foreground truncate">{assignee.email}</p>
          </div>
        </div>
      )
    }


    export function ItemMetrics({ metrics }: { metrics: DataItem['metrics'] }) {
      return (
        <div className="flex items-center gap-3 text-sm">
          <div className="flex items-center gap-1"><Eye className="w-4 h-4" /> {metrics.views}</div>
          <div className="flex items-center gap-1"><Heart className="w-4 h-4" /> {metrics.likes}</div>
          <div className="flex items-center gap-1"><Share className="w-4 h-4" /> {metrics.shares}</div>
        </div>
      )
    }


    export function ItemProgressBar({ completion, showPercentage }: {
    completion: number; showPercentage?: boolean }) {
      const bar = (
        <div className="w-full bg-muted rounded-full h-2.5">
          <div
            className="bg-gradient-to-r from-primary to-primary/80 h-2.5 rounded-full transition-all duration-500"
            style={{ width: `${completion}%` }}
          />
        </div>
      );

      if (!showPercentage) return bar;

      return (
        <div className="flex items-center gap-3">
          <div className="flex-1 min-w-0">{bar}</div>
          <span className="text-sm font-medium text-muted-foreground">{completion}%</span>
        </div>
      )
    }


    export function ItemDateInfo({ date }: { date: string }) {
      return (
        <div className="flex items-center gap-1.5 text-sm">
          <Clock className="w-4 h-4" />
          <span>{new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>
        </div>
      )
    }


    export function ItemTags({ tags }: { tags: string[] }) {
      const MAX_TAGS = 3
      const remainingTags = tags.length - MAX_TAGS
      return (
        <div className="flex items-center gap-1.5 flex-wrap">
          {tags.slice(0, MAX_TAGS).map(tag => (
            <Badge key={tag} variant="secondary" className="text-xs">{tag}</Badge>
          ))}
          {remainingTags > 0 && (
            <Badge variant="outline" className="text-xs">+{remainingTags}</Badge>
          )}
        </div>
      )
    }
  src/pages/DataDemo/components/DataListView.tsx: >-
    import { useRef } from 'react'

    import { cn } from '@/lib/utils'

    import { Badge } from '@/components/ui/badge'

    import { ArrowRight } from 'lucide-react'

    import type { DataItem } from '../types'

    import { useStaggeredAnimation } from
    '@/hooks/useStaggeredAnimation.motion.hook'

    import { EmptyState } from './EmptyState'

    import { useAppViewManager } from '@/hooks/useAppViewManager.hook'

    import { 
      useSelectedItem,
    } from '../store/dataDemo.store'

    import {
      AssigneeInfo,
      ItemMetrics,
      ItemProgressBar,
      ItemStatusBadge,
      ItemPriorityBadge,
      ItemDateInfo,
    } from './shared/DataItemParts'

    import { AddDataItemCta } from './shared/AddDataItemCta'


    export function DataListView({ data }: { data: DataItem[] }) {
      const { onItemSelect, itemId } = useAppViewManager();
      const selectedItem = useSelectedItem(itemId);

      const listRef = useRef<HTMLDivElement>(null)
      useStaggeredAnimation(listRef, [data], { mode: 'incremental', scale: 1, y: 30, stagger: 0.08, duration: 0.5 });

      const items = Array.isArray(data) ? data : [];
      if (items.length === 0) {
        return <EmptyState />
      }

      return (
        <div ref={listRef} className="space-y-4 pb-4">
          {items.map((item: DataItem) => {
            const isSelected = selectedItem?.id === item.id
            
            return (
              <div
                key={item.id}
                onClick={() => onItemSelect(item)}
                className={cn(
                  "group relative overflow-hidden rounded-2xl border bg-card/50 backdrop-blur-sm transition-all duration-300 cursor-pointer",
                  "hover:bg-card/80 hover:shadow-lg hover:shadow-primary/5 hover:border-primary/20",
                  "active:scale-[0.99]",
                  isSelected && "ring-2 ring-primary/20 border-primary/30 bg-card/90"
                )}
              >
                <div className="p-6">
                  <div className="flex items-start gap-4">
                    {/* Thumbnail */}
                    <div className="flex-shrink-0">
                      <div className="w-14 h-14 bg-gradient-to-br from-primary/20 to-primary/10 rounded-xl flex items-center justify-center text-2xl">
                        {item.thumbnail}
                      </div>
                    </div>

                    {/* Content */}
                    <div className="flex-1 min-w-0">
                      <div className="flex items-start justify-between mb-3">
                        <div className="flex-1 min-w-0">
                          <h3 className="font-semibold text-lg mb-1 group-hover:text-primary transition-colors">
                            {item.title}
                          </h3>
                          <p className="text-muted-foreground text-sm mb-3 line-clamp-2">
                            {item.description}
                          </p>
                        </div>
                        <ArrowRight className="w-5 h-5 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-300 ml-4 flex-shrink-0" />
                      </div>

                      {/* Badges */}
                      <div className="flex items-center gap-2 mb-4">
                        <ItemStatusBadge status={item.status} />
                        <ItemPriorityBadge priority={item.priority} />
                        <Badge variant="outline" className="bg-accent/50">
                          {item.category}
                        </Badge>
                      </div>

                      {/* Meta info */}
                      <div className="flex items-center justify-between text-muted-foreground">
                        <div className="flex items-center gap-4">
                          {/* Assignee */}
                          <AssigneeInfo assignee={item.assignee} avatarClassName="w-7 h-7" />
                          {/* Date */}
                          <ItemDateInfo date={item.updatedAt} />
                        </div>

                        {/* Metrics */}
                        <ItemMetrics metrics={item.metrics} />
                      </div>

                      {/* Progress bar */}
                      <div className="mt-4"><ItemProgressBar completion={item.metrics.completion} /></div>
                    </div>
                  </div>
                </div>

                {/* Hover gradient overlay */}
                <div className="absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none" />
              </div>
            )
          })}
          <AddDataItemCta viewMode='list' />
        </div>
      )
    }
approved: false
linesAdded: null
linesRemoved: null
linesDifference: null
gitCommittedAt: null
status: undone
id: 471
